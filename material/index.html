<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no">
	<title>金属</title>
	<link rel="stylesheet" href="css/standard.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="js/reset.js"></script>
</head>
<body>
	<div class="block" id="block"></div>
	<div class="topNav" id="topNav">
		<div class="tab"><span class="active">钒</span></div>
		<div class="tab"><span>钼</span></div>
		<div class="tab"><span>钛</span></div>
		<div class="tab"><span>煤炭</span></div>
	</div>
	<div class="topNavDialog" id="topNavDialog">
		<li>钒氮合金</li>
		<li>钒铁</li>
		<li>偏钒酸铵</li>
		<li>五氧化二钒</li>
		<li>钒原料</li>
		<li>钒铝合金</li>
	</div>
	<div class="map">
		<img src="images/map.jpg" width="100%" alt="">
		<div class="dateTab" id="dateTab">
			<li>日</li>
			<li class="active">周</li>
			<li>月</li>
		</div>
	</div>
	<div class="pullPan" id="pullPan">
		<div class="arrow" id="arrow"></div>
		<ul>
			<li class="category">
				<p>西安</p>
				<p class="date">2017-04-21&nbsp;&nbsp;12:31:33</p>
			</li>
			<li class="map2" id="map2">
				<div><img src="images/map2.jpg" width="100%" alt=""></div>
			</li>
			<li>
				<p>偏氨酸钒</p>
				<p>厂家名称</p>
				<p class="red">34534</p>
				<p><img src="images/up.jpg" alt="">2352</p>
			</li>
			<li>
				<p>偏氨酸钒</p>
				<p>厂家名称</p>
				<p class="red">34534</p>
				<p class="red"><img src="images/up.jpg" alt="">2352</p>
			</li>
			<li>
				<p>偏氨酸钒</p>
				<p>厂家名称</p>
				<p>34534</p>
				<p><img src="images/up.jpg" alt="">2352</p>
			</li>
			<li>
				<p>偏氨酸钒</p>
				<p>厂家名称</p>
				<p>34534</p>
				<p class="red"><img src="images/down.jpg" alt="">2352</p>
			</li>
			<li>
				<p>偏氨酸钒</p>
				<p>厂家名称</p>
				<p class="red">34534</p>
				<p><img src="images/down.jpg" alt="">2352</p>
			</li>
			<li>
				<p>偏氨酸钒</p>
				<p>厂家名称</p>
				<p>34534</p>
				<p><img src="images/up.jpg" alt="">2352</p>
			</li>
			<li>
				<p>偏氨酸钒</p>
				<p>厂家名称</p>
				<p>34534</p>
				<p><img src="images/up.jpg" alt="">2352</p>
			</li>
			<li>
				<p>偏氨酸钒</p>
				<p>厂家名称</p>
				<p>34534</p>
				<p><img src="images/up.jpg" alt="">2352</p>
			</li>
			<li>
				<p>偏氨酸钒</p>
				<p>厂家名称</p>
				<p>34534</p>
				<p><img src="images/up.jpg" alt="">2352</p>
			</li>
		</ul>
	</div>
	<script>
		var pullPan = document.querySelector('#pullPan'),
			topNav = document.querySelector('#topNav'),
			tab = topNav.querySelectorAll('.tab'),
			dateTab = document.querySelector('#dateTab'),
			dateTabLi = dateTab.getElementsByTagName('li'),
			topNavDialog = document.querySelector('#topNavDialog'),
			topNavDialogLi = document.querySelectorAll('#topNavDialog li'),
			arrow = document.querySelector('#arrow'),
			map2 = document.querySelector('#map2'),
			block = document.querySelector('#block'),
			cw = document.documentElement.clientWidth,
			ch = document.documentElement.clientHeight,
			pullPanShow = 1,
			topNavDialogShow = 0;

		document.body.style.height = ch + 'px';
		block.style.height = ch - topNav.offsetHeight + 16 + 'px';
		block.style.top = '3.5rem';
		pullPan.style.height = '6.5rem';

		block.onclick = function () {
			if (topNavDialogShow) {
				topNavDialog.style.display = 'none';
				block.style.display = 'none';
			}
		}

		for (var w = 0; w < topNavDialogLi.length; w++) {
			topNavDialogLi[w].onclick = function () {
				topNavDialog.style.display = 'none';
				block.style.display = 'none';
			}
		}

		for(var i = 0; i < tab.length; i++) {
			tab[i].onclick = function () {
				for(var x = 0; x < tab.length; x++) {
					var span = tab[x].getElementsByTagName('span')[0];
					span.className = '';
				}
				this.getElementsByTagName('span')[0].className = 'active';
				topNavDialog.style.display = 'block';
				block.style.display = 'block';
				topNavDialogShow = 1;
			}
		}

		//map tab
		console.log('dateTabLi.length = ' + dateTabLi.length);
		for(var u = 0; u < dateTabLi.length; u++) {
			dateTabLi[u].onclick = function () {
				for(var x = 0; x < dateTabLi.length; x++) {
					dateTabLi[x].className = '';
				}
				this.className = 'active';
			}
		}
		

		arrow.addEventListener('click', function () {
			if(pullPanShow) {
				block.style.display = 'block';
				map2.style.display = 'block';
				pullPan.style.height = '34rem';
				pullPanShow = 0;
			}else{
				block.style.display = 'none';
				map2.style.display = 'none';
				pullPan.style.height = '6.5rem';
				pullPanShow = 1;
			}
		});
	</script>
</body>
</html>